<!DOCTYPE html>
<html>
<head>
    <title>Giải Bài toán QHTT</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <div class="container">
        <h1>Chương trình Giải Bài toán Quy hoạch Tuyến tính</h1>
        {% if error %}
        <p class="error">{{ error }}</p>
        {% endif %}
        <form method="POST">
            <h2>Định nghĩa Bài toán</h2>
            
            <div class="form-group">
                <label>Số lượng biến (n):</label>
                <input type="number" name="num_vars" value="{{ num_vars }}" min="1" step="1" required>
                <label>Số lượng ràng buộc (m):</label>
                <input type="number" name="num_constraints" value="{{ num_constraints }}" min="1" step="1" required>
                <button type="submit" name="update">Cập nhật</button>
            </div>
            
            <div class="form-group">
                <h3>Hàm mục tiêu (f(x) = c₁x₁ + ... + cₙxₙ):</h3>
                <label>Loại bài toán:</label>
                <select name="objective_type">
                    <option value="Max" {% if objective_type == 'Max' %}selected{% endif %}>Max</option>
                    <option value="Min" {% if objective_type == 'Min' %}selected{% endif %}>Min</option>
                </select>
                <div class="coefficients">
                    {% for i in range(num_vars|int) %}
                    <label>c{{ i+1 }}:</label>
                    <input type="number" name="c{{ i }}" value="0" step="any" required>
                    {% endfor %}
                </div>
            </div>
            
            <div class="form-group">
                <h3>Các ràng buộc:</h3>
                {% for i in range(num_constraints|int) %}
                <div class="constraint">
                    {% for j in range(num_vars|int) %}
                    <input type="number" name="A{{ i }}_{{ j }}" value="0" step="any" required>
                    <span>x{{ j+1 }}</span>
                    {% if j < num_vars|int-1 %}<span>+</span>{% endif %}
                    {% endfor %}
                    <select name="constraint_type{{ i }}">
                        <option value="<=">≤</option>
                        <option value=">=">≥</option>
                        <option value="=">=</option>
                    </select>
                    <input type="number" name="b{{ i }}" value="0" step="any" required>
                </div>
                {% endfor %}
            </div>
            
            <div class="form-group">
                <h3>Loại biến:</h3>
                {% for i in range(num_vars|int) %}
                <label>x{{ i+1 }}:</label>
                <select name="var_type{{ i }}">
                    <option value=">=0">≥ 0</option>
                    <option value="<=0">≤ 0</option>
                    <option value="URS">tự do</option>
                </select>
                {% endfor %}
            </div>
            
            <button type="submit" name="solve">Giải Bài toán QHTT</button>
        </form>
    </div>
</body>
</html>